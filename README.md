# –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ Ubuntu 24.04 LTS

–≠—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–≤–∞ —Å–∫—Ä–∏–ø—Ç–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞:
1.  `install.sh`: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç LAMP —Å—Ç–µ–∫ (Apache, MySQL, PHP), phpMyAdmin, Node.js –∏ Certbot –Ω–∞ Ubuntu 24.04 LTS.
2.  `add_domain.sh`: –î–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—ã–π –¥–æ–º–µ–Ω –≤ Apache, —Å–æ–∑–¥–∞–µ—Ç –±–∞–∑–æ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è —Å–∞–π—Ç–∞, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç Virtual Host –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –æ—Ç Let's Encrypt —á–µ—Ä–µ–∑ Certbot.

## ‚ö†Ô∏è –í–∞–∂–Ω–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ

*   **–ó–∞–ø—É—Å–∫–∞–π—Ç–µ `install.sh` –¢–û–õ–¨–ö–û –Ω–∞ —Å–≤–µ–∂–µ–π —É—Å—Ç–∞–Ω–æ–≤–∫–µ Ubuntu 24.04 LTS.** –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–º –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ–º.
*   –°–∫—Ä–∏–ø—Ç `install.sh` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–∞–¥—ë–∂–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –¥–ª—è MySQL root –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è phpMyAdmin –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Ö –≤ –ª–æ–≥-—Ñ–∞–π–ª–µ `/root/install.log`. **–ù–ï –î–ï–õ–ò–¢–ï–°–¨ –≠–¢–ò–ú –§–ê–ô–õ–û–ú –ò –£–î–ê–õ–ò–¢–ï `/var/www/html/info.php` –ü–û–°–õ–ï –ü–†–û–í–ï–†–ö–ò!**
*   –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ (–æ–±–æ–∏–º–∏ —Å–∫—Ä–∏–ø—Ç–∞–º–∏) –¥–æ–º–µ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ DNS, —É–∫–∞–∑—ã–≤–∞—é—â–∏–π –Ω–∞ –ø—É–±–ª–∏—á–Ω—ã–π IP-–∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ **–î–û –ó–ê–ü–£–°–ö–ê –°–ö–†–ò–ü–¢–ê**.

## üìã –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1.  **–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞:** Ubuntu 24.04 LTS (—á–∏—Å—Ç–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–ª—è `install.sh`).
2.  **–î–æ—Å—Ç—É–ø:** –ü—Ä–∞–≤–∞ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (root) –∏–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `sudo` –¥–ª—è –æ–±–æ–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤.
3.  **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç—É:** –î–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø–∞–∫–µ—Ç–æ–≤ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤.
4.  **–ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π DNS:** –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–æ–º–µ–Ω, A-–∑–∞–ø–∏—Å—å –∫–æ—Ç–æ—Ä–æ–≥–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø—É–±–ª–∏—á–Ω—ã–π IP-–∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞.

---

## `install.sh` - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–∞–∑–æ–≤–æ–≥–æ —Å—Ç–µ–∫–∞

### ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º `install.sh`, –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª—É—á–∏—Ç—å SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–ª—è **–æ—Å–Ω–æ–≤–Ω–æ–≥–æ** –¥–æ–º–µ–Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏, –æ—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `install.sh` –∏ —É–∫–∞–∂–∏—Ç–µ –≤–∞—à –¥–æ–º–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `YOUR_DOMAIN`:

```bash
# === –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø ===
YOUR_DOMAIN="your_domain.com"  # ‚Üê –£–∫–∞–∂–∏—Ç–µ –≤–∞—à –¥–æ–º–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä: example.com), –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π SSL
```

–ï—Å–ª–∏ –≤—ã –Ω–µ —É–∫–∞–∂–µ—Ç–µ –¥–æ–º–µ–Ω, —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–ø—É—Å—Ç–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–ø—É—Å–∫ SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞, –Ω–æ Certbot –±—É–¥–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –∏ –≤—ã —Å–º–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –µ–≥–æ –≤—Ä—É—á–Ω—É—é –ø–æ–∑–∂–µ –∏–ª–∏ —Å –ø–æ–º–æ—â—å—é —Å–∫—Ä–∏–ø—Ç–∞ `add_domain.sh`.

### üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1.  **–°–∫–∞—á–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç:**
    –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `install.sh` –Ω–∞ –≤–∞—à —Å–µ—Ä–≤–µ—Ä.

2.  **–°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:**
    ```bash
    chmod +x install.sh
    ```

3.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —Å –ø—Ä–∞–≤–∞–º–∏ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
    ```bash
    sudo ./install.sh
    ```
    –∏–ª–∏
    ```bash
    su -
    ./install.sh
    ```

–°–∫—Ä–∏–ø—Ç –±—É–¥–µ—Ç –≤—ã–≤–æ–¥–∏—Ç—å —Ö–æ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª—å –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤—Å–µ –ª–æ–≥–∏ (–≤–∫–ª—é—á–∞—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–æ–ª–∏) –≤ —Ñ–∞–π–ª `/root/install.log`.

### üõ†Ô∏è –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç `install.sh`

1.  **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤:** –£–±–µ–∂–¥–∞–µ—Ç—Å—è, —á—Ç–æ —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—â–µ–Ω –æ—Ç –∏–º–µ–Ω–∏ root –∏–ª–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `sudo`.
2.  **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:** –°–æ–∑–¥–∞–µ—Ç –∏–ª–∏ –æ—á–∏—â–∞–µ—Ç —Ñ–∞–π–ª `/root/install.log` –¥–ª—è –∑–∞–ø–∏—Å–∏ –≤—Å–µ—Ö —à–∞–≥–æ–≤ —É—Å—Ç–∞–Ω–æ–≤–∫–∏.
3.  **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∞—Ä–æ–ª–µ–π:** –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–∞–¥—ë–∂–Ω—ã–µ 24-—Å–∏–º–≤–æ–ª—å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `root` MySQL –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö phpMyAdmin. –ü–∞—Ä–æ–ª–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ª–æ–≥-—Ñ–∞–π–ª.
4.  **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã:** –í—ã–ø–æ–ª–Ω—è–µ—Ç `apt update -y` –∏ `apt upgrade -y`.
5.  **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Apache:** –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Apache2, –≤–∫–ª—é—á–∞–µ—Ç –º–æ–¥—É–ª–∏ `ssl`, `rewrite`, `headers` –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç Apache.
6.  **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ MySQL:** –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `root` MySQL, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä MySQL, –≤–∫–ª—é—á–∞–µ—Ç –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Ä–≤–∏—Å.
7.  **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ PHP:** –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç PHP –∏ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (`libapache2-mod-php`, `php-mysql`, `php-curl`, `php-gd`, `php-mbstring`, `php-xml`, `php-zip`, `php-json`, `php-cli`) –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç Apache.
8.  **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ phpMyAdmin:** –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã phpMyAdmin, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –µ–≥–æ, –≤–∫–ª—é—á–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è Apache –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç Apache.
9.  **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js 22.x:** –î–æ–±–∞–≤–ª—è–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π NodeSource, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Node.js –∏ npm.
10. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Certbot:** –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Certbot –∏ –µ–≥–æ –ø–ª–∞–≥–∏–Ω –¥–ª—è Apache (`python3-certbot-apache`).
11. **–í—ã–ø—É—Å–∫ SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ (–µ—Å–ª–∏ –¥–æ–º–µ–Ω —É–∫–∞–∑–∞–Ω):** –ï—Å–ª–∏ `YOUR_DOMAIN` —É–∫–∞–∑–∞–Ω –∏ DNS –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω, –∑–∞–ø—É—Å–∫–∞–µ—Ç `certbot --apache` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞, –∞ —Ç–∞–∫–∂–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ HTTP –Ω–∞ HTTPS.
12. **–ë–∞–∑–æ–≤–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å MySQL:** –í—ã–ø–æ–ª–Ω—è–µ—Ç SQL-–∫–æ–º–∞–Ω–¥—ã –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ MySQL (—É–¥–∞–ª–µ–Ω–∏–µ –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∑–∞–ø—Ä–µ—Ç —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ –≤—Ö–æ–¥–∞ –¥–ª—è `root`, —É–¥–∞–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–π –ë–î).
13. **–°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ PHP-—Ñ–∞–π–ª–∞:** –°–æ–∑–¥–∞–µ—Ç `/var/www/html/info.php` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã PHP.
14. **–§–∏–Ω–∞–ª—å–Ω–∞—è —Å–≤–æ–¥–∫–∞:** –í—ã–≤–æ–¥–∏—Ç –Ω–∞ —ç–∫—Ä–∞–Ω IP —Å–µ—Ä–≤–µ—Ä–∞, —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–æ–ª–∏, URL –¥–ª—è phpMyAdmin –∏ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ PHP-—Ñ–∞–π–ª–∞, –∞ —Ç–∞–∫–∂–µ HTTPS URL.
15. **–ó–∞—â–∏—Ç–∞ –ª–æ–≥-—Ñ–∞–π–ª–∞:** –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ `chmod 600` –∏ –≤–ª–∞–¥–µ–ª—å—Ü–∞ `chown root:root` –¥–ª—è `/root/install.log`.

### üîë –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –≤–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

–ü–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Å–∫—Ä–∏–ø—Ç –≤—ã–≤–µ–¥–µ—Ç –≤ –∫–æ–Ω—Å–æ–ª—å —Å–ª–µ–¥—É—é—â—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:

*   **IP —Å–µ—Ä–≤–µ—Ä–∞:** –í–∞—à –ø—É–±–ª–∏—á–Ω—ã–π IP-–∞–¥—Ä–µ—Å.
*   **–î–æ–º–µ–Ω:** –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω –≤ `YOUR_DOMAIN`.
*   **MySQL root password:** –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `root` MySQL.
*   **phpMyAdmin DB user password:** –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö phpMyAdmin.
*   **phpMyAdmin URL:** `http://–í–ê–®_IP_–ò–õ–ò_–î–û–ú–ï–ù/phpmyadmin`
*   **–¢–µ—Å—Ç PHP:** `http://–í–ê–®_IP_–ò–õ–ò_–î–û–ú–ï–ù/info.php`
*   **HTTPS:** `https://–í–ê–®_–î–û–ú–ï–ù` (–µ—Å–ª–∏ SSL —É—Å–ø–µ—à–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω).

**–í—Å–µ —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ, –≤–∫–ª—é—á–∞—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–æ–ª–∏, –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ —Ñ–∞–π–ª–µ `/root/install.log`.** –î–æ—Å—Ç—É–ø –∫ —ç—Ç–æ–º—É —Ñ–∞–π–ª—É –æ–≥—Ä–∞–Ω–∏—á–µ–Ω —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º `root`.

---

## `add_domain.sh` - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –¥–æ–º–µ–Ω–∞

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä, —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Å –ø–æ–º–æ—â—å—é `install.sh`. –û–Ω –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç Apache Virtual Host –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞, —Å–æ–∑–¥–∞–µ—Ç –µ–≥–æ –∫–æ—Ä–Ω–µ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∏ –ø–æ–ª—É—á–∞–µ—Ç –¥–ª—è –Ω–µ–≥–æ SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç.

### üìã –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1.  **–í—ã–ø–æ–ª–Ω–µ–Ω `install.sh`:** –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã Apache –∏ Certbot.
2.  **–ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π DNS:** A-–∑–∞–ø–∏—Å—å –¥–ª—è `–í–ê–®_–î–û–ú–ï–ù` –∏ `www.–í–ê–®_–î–û–ú–ï–ù` –¥–æ–ª–∂–Ω–∞ —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –ø—É–±–ª–∏—á–Ω—ã–π IP-–∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞.

### üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1.  **–°–∫–∞—á–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç:**
    –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `add_domain.sh` –Ω–∞ –≤–∞—à —Å–µ—Ä–≤–µ—Ä.

2.  **–°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:**
    ```bash
    chmod +x add_domain.sh
    ```

3.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —Å –ø—Ä–∞–≤–∞–º–∏ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —É–∫–∞–∑–∞–≤ –¥–æ–º–µ–Ω –∏ –ø—É—Ç—å –∫ —Å–∞–π—Ç—É:**
    ```bash
    sudo ./add_domain.sh your_new_domain.com /var/www/your_new_domain.com
    ```
    –ó–∞–º–µ–Ω–∏—Ç–µ `your_new_domain.com` –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π –¥–æ–º–µ–Ω, –∞ `/var/www/your_new_domain.com` –Ω–∞ –∂–µ–ª–∞–µ–º—ã–π –ø—É—Ç—å –∫ —Ñ–∞–π–ª–∞–º —Å–∞–π—Ç–∞.

### üõ†Ô∏è –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç `add_domain.sh`

1.  **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤:** –£–±–µ–∂–¥–∞–µ—Ç—Å—è, —á—Ç–æ —É–∫–∞–∑–∞–Ω—ã –¥–æ–º–µ–Ω –∏ –ø—É—Ç—å –∫ —Å–∞–π—Ç—É.
2.  **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤:** –£–±–µ–∂–¥–∞–µ—Ç—Å—è, —á—Ç–æ —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—â–µ–Ω –æ—Ç –∏–º–µ–Ω–∏ root –∏–ª–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `sudo`.
3.  **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ Apache –∏ Certbot –≤ —Å–∏—Å—Ç–µ–º–µ.
4.  **–°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å–∞–π—Ç–∞:** –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –æ–Ω–∞ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞ —Å –ø—Ä–∞–≤–∞–º–∏ `www-data:www-data` –∏ `chmod 755`.
5.  **–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–≥–ª—É—à–∫–∏ `index.html`:** –ï—Å–ª–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å–∞–π—Ç–∞ –Ω–µ—Ç `index.html`, —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–æ—Å—Ç–∞—è HTML-—Å—Ç—Ä–∞–Ω–∏—Ü–∞, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—â–∞—è —Ä–∞–±–æ—Ç—É —Å–∞–π—Ç–∞ –∏ HTTPS.
6.  **–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Virtual Host:**
    *   –°–æ–∑–¥–∞–µ—Ç —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Apache –¥–ª—è –Ω–æ–≤–æ–≥–æ –¥–æ–º–µ–Ω–∞ –≤ `/etc/apache2/sites-available/`.
    *   –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç `ServerName` –∏ `ServerAlias` –¥–ª—è –¥–æ–º–µ–Ω–∞ –∏ –µ–≥–æ `www` –ø–æ–¥–¥–æ–º–µ–Ω–∞.
    *   –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `DocumentRoot` –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø—É—Ç—å –∫ —Å–∞–π—Ç—É.
    *   –í–∫–ª—é—á–∞–µ—Ç `RewriteEngine` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ—Ö HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ HTTPS –∏ `www.–¥–æ–º–µ–Ω` –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –¥–æ–º–µ–Ω –±–µ–∑ `www`.
7.  **–í–∫–ª—é—á–µ–Ω–∏–µ —Å–∞–π—Ç–∞:** –í–∫–ª—é—á–∞–µ—Ç –Ω–æ–≤—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Virtual Host —Å –ø–æ–º–æ—â—å—é `a2ensite` –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç Apache.
8.  **–ü—Ä–æ–≤–µ—Ä–∫–∞ DNS (–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ):** –í—ã–ø–æ–ª–Ω—è–µ—Ç `dig` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ A-–∑–∞–ø–∏—Å–∏ –¥–æ–º–µ–Ω–∞ –∏ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –µ—ë —Å IP —Å–µ—Ä–≤–µ—Ä–∞, –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—è –æ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è—Ö.
9.  **–ó–∞–ø—Ä–æ—Å SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞:**
    *   –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Certbot —Å –ø–ª–∞–≥–∏–Ω–æ–º Apache (`certbot --apache`) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ Let's Encrypt –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞.
    *   –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ HTTPS.
    *   –í –∫–∞—á–µ—Å—Ç–≤–µ –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–≥–æ email –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `admin@–í–ê–®_–î–û–ú–ï–ù`.
10. **–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ Apache:** –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç Apache –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π Certbot.

### üîë –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –≤–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç –≤—ã–≤–µ–¥–µ—Ç:

*   –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è —Å–∞–π—Ç–∞ –∏ –≤—ã–ø—É—Å–∫–∞ SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞.
*   –û—Å–Ω–æ–≤–Ω–æ–π URL: `https://–í–ê–®_–î–û–ú–ï–ù`.
*   –£–∫–∞–∑–∞–Ω–∏–µ –Ω–∞ —Ç–æ, —á—Ç–æ `www.–í–ê–®_–î–û–ú–ï–ù` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ `https://–í–ê–®_–î–û–ú–ï–ù`.
*   –ü—É—Ç—å –∫ —Ñ–∞–π–ª–∞–º —Å–∞–π—Ç–∞.

---

## üîí –û–±—â–∏–µ –∑–∞–º–µ—Ç–∫–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

*   **–£–¥–∞–ª–∏—Ç–µ `/var/www/html/info.php`!** –≠—Ç–æ—Ç —Ñ–∞–π–ª –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ PHP, —á—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å —É–≥—Ä–æ–∑—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –£–¥–∞–ª–∏—Ç–µ –µ–≥–æ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã PHP, –µ—Å–ª–∏ –æ–Ω –±—ã–ª —Å–æ–∑–¥–∞–Ω:
    ```bash
    sudo rm /var/www/html/info.php
    ```
*   **–ó–∞—â–∏—Ç–∏—Ç–µ `/root/install.log`:** –ï—Å–ª–∏ `install.sh` –±—ã–ª –∑–∞–ø—É—â–µ–Ω, —ç—Ç–æ—Ç —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–æ–ª–∏. –ù–µ –¥–µ–ª–∏—Ç–µ—Å—å –∏–º –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–Ω –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è `root`.
*   **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Firewall (UFW):** –°–∫—Ä–∏–ø—Ç—ã –Ω–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä. –ù–∞—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å UFW –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –ü—Ä–∏–º–µ—Ä –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è HTTP, HTTPS –∏ SSH:
    ```bash
    sudo ufw allow 'Apache Full'
    sudo ufw allow OpenSSH
    sudo ufw enable
    ```
*   **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Certbot:** Certbot –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ Let's Encrypt.
*   **–ò–∑–º–µ–Ω–∏—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–æ–ª–∏:** –•–æ—Ç—è `install.sh` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–∞–¥—ë–∂–Ω—ã–µ –ø–∞—Ä–æ–ª–∏, –≤—Å–µ–≥–¥–∞ —Ö–æ—Ä–æ—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π —è–≤–ª—è–µ—Ç—Å—è –∏—Ö —Å–º–µ–Ω–∞ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞ —Å–≤–æ–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ, –æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ `root` MySQL.

This README.md now provides comprehensive documentation for both `install.sh` and `add_domain.sh`, explaining their purpose, usage, and functionalities.